<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">

<!--2026/02/10 17:56:20-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta http-equiv="Content-Script-Type" content="text/javascript">
  <meta name="GENERATOR" content="ホームページV4">
  <title>赤外線センサーバー検出 - Kitaya lab</title>
  <link rel="stylesheet" href="02_white_a0_0010.css" type="text/css" media="all">
</head>

<body>
  <div id="page">
  <div id="header">operanthouseのヘッダー</div>
  <div id="title">
  <h1>Kitaya lab</h1></div>
  <div id="menubar"><div class="mainmenu"><ul><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="index.html" class="mainmenuitemlink"><span class="mainmenuitemmark">オペラントハウスとは</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="office1001038.html" class="mainmenuitemlink"><span class="mainmenuitemmark">What's Operant House?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1.html" class="mainmenuitemlink"><span class="mainmenuitemmark">行動解析君とは?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1076.html" class="mainmenuitemlink"><span class="mainmenuitemmark">Mr. Behavio?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1001.html" class="mainmenuitemlink"><span class="mainmenuitemmark">Gait analyzer</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="privacy1.html" class="mainmenuitemlink"><span class="mainmenuitemmark">プライバシーポリシー</span></a></span></span></span></li></ul>
</div></div>
  <div id="side1">
  <div class="submenu"><ul><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="index.html" class="submenuitemlink"><span class="submenuitemmark1">オペラントハウスとは?</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001.html" class="submenuitemlink"><span class="submenuitemmark1">制作の準備(ﾀﾞｳﾝﾛｰﾄﾞ)</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank.html" class="submenuitemlink"><span class="submenuitemmark1">3Dプリンターの準備</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank001.html" class="submenuitemlink"><span class="submenuitemmark1">オペラントハウスの製作</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank002.html" class="submenuitemlink"><span class="submenuitemmark1">オプションパーツについて</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001027.html" class="submenuitemlink"><span class="submenuitemmark2">赤外線カメラ検出</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001028.html" class="submenuitemlink"><span class="submenuitemmark2">ｵﾌﾟｼｮﾝﾊﾟｰﾂ(ﾚﾊﾞｰ)</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001029.html" class="submenuitemlink"><span class="submenuitemmark2">赤外線センサーバー検出</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001016.html" class="submenuitemlink"><span class="submenuitemmark2">操作用モニタの追加</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001098.html" class="submenuitemlink"><span class="submenuitemmark2">UCLA Miniscope</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001018.html" class="submenuitemlink"><span class="submenuitemmark1">ｵﾍﾟﾗﾝﾄﾊｳｽの使い方</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank003.html" class="submenuitemlink"><span class="submenuitemmark1">オリジナル課題の追加</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001036.html" class="submenuitemlink"><span class="submenuitemmark1">Command list</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001069.html" class="submenuitemlink"><span class="submenuitemmark1">デフォルト課題の説明</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001010.html" class="submenuitemlink"><span class="submenuitemmark1">Tips</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001037.html" class="submenuitemlink"><span class="submenuitemmark1">トラブルシューティング</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001103.html" class="submenuitemlink"><span class="submenuitemmark1">About copyright</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001070.html" class="submenuitemlink"><span class="submenuitemmark1">Go to English page</span></a></span></span></span></li></ul>
</div></div>
  <div id="side2"></div>
  <div id="main_wrapper000" class="HPZAutoMarginAdjuster">
  <div id="main">
  <h1>赤外線センサーバー検出</h1>
  <hr>
  <br clear="all">
  <br clear="all">
  <h3>注意：赤外線センサーバーを使う場合は前もって<a href="office1001016.html" class="HPZPageLink">操作用モニターを追加</a>しておいてください。</h3>
  <br clear="all">
  もしタッチスクリーンマスクの穴が縦長で隣と距離が近い場合、カメラではマウスがどちらの穴にノーズポークをしたか見極められない場合があります。<br clear="all">
  その様な場合は赤外線センサーバー(NNAMC3460PCEV; Neonode)を用いて下さい。<br clear="all">
  これを使えばマウスがタッチした画面上の座標を取得できるのでパネルが密集している場合や上下2段に分かれている場合でも対応できます。<br clear="all">
  <br clear="all">
  このセンサーバーはタッチ操作非対応のモニタをタッチ操作可能にするもので、これを画面に取り付ける事でマウスが画面にタッチするとマウスカーソルが対応する位置に動きます。OperantHouseはマウスカーソルの位置からタッチ位置を計算します。<br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <h2>実装作業</h2>
  <br clear="all">
  チャンバー前面にあるレバーモジュール用の穴は不要なのでカバーで覆います。<br clear="all">
  <img src="paste250.jpg" alt="" height="182" width="346" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  下のツメを引っかけ、M3x20mmネジで固定します。<br clear="all">
  <img src="paste2322.jpg" alt="" height="209" width="513" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  センサーバーを使う場合は操作モニタが必須です。<br clear="all">
  <a href="office1001016.html" class="HPZPageLink">操作用モニタの追加のページ</a>に従って操作モニタを取り付けて下さい。<br clear="all">
  <br clear="all">
  <br clear="all">
  次にセンサーバーを両面テープで取り付けます。曲げると壊れるので注意して下さい。<br clear="all">
  また丸で囲ったコネクタ-部は弱いのでケーブルでテンションが掛からないようにして下さい。<br clear="all">
  <img src="paste1271.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  <a href="office1001005.html" class="HPZPageLink">パーツの印刷ページ</a>にあるセンサーバー用のパーツを印刷してください。<br clear="all">
  <br clear="all">
  3.5mmモニタースペーサーを両面テープで取り付け、モニターを本体に設置します（モニタ抑えネジもモニタが垂直になるよう再調整してください）。<br clear="all">
  <img src="paste1324.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  スペーサー（ChamberSpacer2mm）をチャンバーの右側のみ両面テープで貼ります。なお写真ではテスト用に10穴マスク(Mask10holesAirBar_230328.stl)を使用しています。<br clear="all">
  <img src="paste2862.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  ※もし5CSRTTなどマスクとモニタの距離が近い方が良い場合はChamberSpacer2mmを省略し、3.5mmモニタスペーサーの代わりに1.5mmモニタスペーサーを使ってください。<br clear="all">
  <br clear="all">
  赤外線センサーバー視野に余計な輝点が入るのを防ぐためバックグラウンドプレートアームを作ります。<br clear="all">
  M2とナットでこのように組み立てます。<br clear="all">
  <img src="paste1325.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  もし黒以外の色で印刷した場合はマットな黒テープをプレートに張って下さい。<br clear="all">
  <img src="paste280.jpg" alt="" height="100" width="495" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  そしてM2ネジとナットで本体に取り付けます。<br clear="all">
  <img src="paste132.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  なおセンサーバーを付けなおしたい場合、無理に剥がそうとすると壊れるので写真のようにカミソリを入れて外してください。<br clear="all">
  <img src="paste286.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  センサーバーはUSB microBに対応しているのでmicroB - TypeAのUSBケーブルでラズパイと接続して下さい。<br clear="all">
  <img src="paste301_2.jpg" alt="" border="0"> (microB)<br clear="all">
  <br clear="all">
  <br clear="all">
  プログラムのソースコードのTouchDetectSensorTypeを1にしてください。<br clear="all">
  これでプログラムはセンサーバーの情報を元にタッチを検出するようになります。<br clear="all">
  <img src="paste2871.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  次にセンサーバーの座標調整を行いましょう。<br clear="all">
  オペラントハウスを起動してください。<br clear="all">
  画面を指で触れるとオレンジの点が現れると思います。これがプログラムが指で触れたと見なしている座標です。<br clear="all">
  このままだとずれているので調整します。<br clear="all">
  <img src="paste2872.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  MainWindowのSettingを開いて下さい。<br clear="all">
  ここのTouchOffsetの値を変える事で輝点の位置を調整できます。<br clear="all">
  また指の動きに対して輝点の動きが小さすぎたり大きすぎたりする場合、TouchRatioの値を変更し、指の動きに輝点が追従するようにしてください。<br clear="all">
  <img src="paste28911.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  このようになればOKです。<br clear="all">
  <img src="paste290.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  チャンバー等をセットします。<br clear="all">
  <img src="paste302_2.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  センサーバーの左側はセンサーフィールドがあるので配線などが入るとタッチを検出できなくなるので注意して下さい。<br clear="all">
  <img src="paste3052.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  もしチャンバーをセットすることで赤外線センサーバーが誤検出してしまう場合、センサーバーが傾いている可能性があります。それを防ぐには下図のようにセンサーバーの左側をチャンバーが押すようにモニターの位置を調節してください。もしチャンバーのロックリングがスカスカでチャンバーを押し付けられない場合は写真のようにテープを巻いてロックリングの太さを調整してください。<br clear="all">
  <img src="paste397.jpg" alt="" height="270" width="552" border="0"><img src="paste399.jpg" alt="" border="0"><br clear="all">
  （上から見た図）<br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  チャンバーをセットしてもちゃんとタッチを検出すれば完成です。<br clear="all">
  マウスを入れてマウスのノーズポークに反応するか試してみてください。<br clear="all">
  <br clear="all">
  ※もし正常にタッチを認識しない場合はトラブルシューティングをご覧ください。<br clear="all">
  </div>
  </div>
  <div id="footer">operanthouseのフッター</div>
  <div id="HPZLPPageTail" style="clear: both;"></div></div>
</body>

</html>
