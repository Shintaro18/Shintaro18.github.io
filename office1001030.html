<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">

<!--2026/02/10 17:56:22-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta http-equiv="Content-Script-Type" content="text/javascript">
  <meta name="GENERATOR" content="ホームページV4">
  <title>1. 準備 - Kitaya lab</title>
  <link rel="stylesheet" href="02_white_a0_0010.css" type="text/css" media="all">
</head>

<body>
  <div id="page">
  <div id="header">operanthouseのヘッダー</div>
  <div id="title">
  <h1>Kitaya lab</h1></div>
  <div id="menubar"><div class="mainmenu"><ul><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="index.html" class="mainmenuitemlink"><span class="mainmenuitemmark">オペラントハウスとは</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="office1001038.html" class="mainmenuitemlink"><span class="mainmenuitemmark">What's Operant House?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1.html" class="mainmenuitemlink"><span class="mainmenuitemmark">行動解析君とは?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1076.html" class="mainmenuitemlink"><span class="mainmenuitemmark">Mr. Behavio?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1001.html" class="mainmenuitemlink"><span class="mainmenuitemmark">Gait analyzer</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="privacy1.html" class="mainmenuitemlink"><span class="mainmenuitemmark">プライバシーポリシー</span></a></span></span></span></li></ul>
</div></div>
  <div id="side1">
  <div class="submenu"><ul><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="index.html" class="submenuitemlink"><span class="submenuitemmark1">オペラントハウスとは?</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001.html" class="submenuitemlink"><span class="submenuitemmark1">制作の準備(ﾀﾞｳﾝﾛｰﾄﾞ)</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank.html" class="submenuitemlink"><span class="submenuitemmark1">3Dプリンターの準備</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank001.html" class="submenuitemlink"><span class="submenuitemmark1">オペラントハウスの製作</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank002.html" class="submenuitemlink"><span class="submenuitemmark1">オプションパーツについて</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001018.html" class="submenuitemlink"><span class="submenuitemmark1">ｵﾍﾟﾗﾝﾄﾊｳｽの使い方</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank003.html" class="submenuitemlink"><span class="submenuitemmark1">オリジナル課題の追加</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001030.html" class="submenuitemlink"><span class="submenuitemmark2">1. 準備</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001017.html" class="submenuitemlink"><span class="submenuitemmark2">2. コードの概要</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001031.html" class="submenuitemlink"><span class="submenuitemmark2">3. Phase0について</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001032.html" class="submenuitemlink"><span class="submenuitemmark2">4. Saveについて</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001033.html" class="submenuitemlink"><span class="submenuitemmark2">5. Phase1について</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001034.html" class="submenuitemlink"><span class="submenuitemmark2">6. Phase2について</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001035.html" class="submenuitemlink"><span class="submenuitemmark2">7. コードの改変 その1</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001067.html" class="submenuitemlink"><span class="submenuitemmark2">8. コードの改変 その2</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001068.html" class="submenuitemlink"><span class="submenuitemmark2">9. レバーを使う課題に改変</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001036.html" class="submenuitemlink"><span class="submenuitemmark1">Command list</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001069.html" class="submenuitemlink"><span class="submenuitemmark1">デフォルト課題の説明</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001010.html" class="submenuitemlink"><span class="submenuitemmark1">Tips</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001037.html" class="submenuitemlink"><span class="submenuitemmark1">トラブルシューティング</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001103.html" class="submenuitemlink"><span class="submenuitemmark1">About copyright</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001070.html" class="submenuitemlink"><span class="submenuitemmark1">Go to English page</span></a></span></span></span></li></ul>
</div></div>
  <div id="side2"></div>
  <div class="HPZAutoMarginAdjuster" id="main_wrapper000">
  <div id="main">
  <h1>1. 準備</h1>
  <hr>
  ※このページではOperantHouse0.927_Tutorial.pyを用いて解説します。またチュートリアル終了後のコードはOperantHouse0.927_Tutorial_final.pyになります。<br clear="all">
  <br clear="all">
  <br clear="all">
  ここではﾊﾟﾈﾙをタッチすると水が貰える必要最小限のコードで書かれた課題(90)のコードの解説を行い、次にコードを追加してより複雑な課題に改良する事を通してどのようにすればオリジナル課題に改良出来るかと解説して行きます。<br clear="all">
  なおプログラミングはラズパイ環境では行いづらいのでここではWindowsPCを用いた場合の解説を行います。<br clear="all">
  <br clear="all">
  まずはプログラミングの環境を構築するため、Anaconda3とPyCharmをインストールしてください(PyCharmのFile -&gt; Setting -&gt; Project:*** -&gt; Project InterpreterでAnacondaのpython.exeを指定するのを忘れないで下さい)。<br clear="all">
  (他のエディターを使っている方はそちらをお使いください)<br clear="all">
  <br clear="all">
  次にOperantHouseのArduinoからラズパイへ向かうUSBケーブルをPCに接続して下さい。またカメラのUSBケーブルも同様にPCへ接続してください。<br clear="all">
  これでPCがラズパイの代わりにOperantHouseを制御できる状態になります。<br clear="all">
  <br clear="all">
  PyCharmのProject windowからオペラントハウスの本体プログラムであるOperantHouse*.***.pyを開くと右側のコードが表示されます。<br clear="all">
  長いコードですが、全てを理解する必要は全くありません。<br clear="all">
  <img src="paste226.jpg" alt="" height="653" width="813" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  PCでプログラムをテスト実行するため、冒頭の値を変更します。<br clear="all">
  <br clear="all">
  <font color="Blue">#========General setting====================================================================================</font><br clear="all">
  <font color="Blue">RaspberryMode = 0 &nbsp; # 0:PC mode, 1:Raspberry mode</font><br clear="all">
  <br clear="all">
  <font color="Black">PCでオペラントハウスを使用するには0にしてください。</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">SingleMonitorMode = 0 &nbsp; # If 1, the windows arranged for single monitor operation</font><br clear="all">
  <br clear="all">
  <font color="Black">拡張画面を含めて作業スペースが横2500ピクセル以上の場合は0,そうでない場合は1にしてください。0の場合はオペレーションウィンドウが左側、タッチｽｸﾘｰﾝｳｨﾝﾄﾞｳが右側に現れます。</font><br clear="all">
  <font color="Black">1の場合、両者が重なって現れます。</font><br clear="all">
  <br clear="all">
  <font color="Blue">IsHousingAnalysis = 1 # If housing analysis is working, the value = 1, otherwise = 0</font><br clear="all">
  <br clear="all">
  <font color="Black">この数値が1だと課題外の天井照明はSettingで指定した時間によって自動的に点灯/消灯されます。</font><br clear="all">
  <br clear="all">
  <font color="Blue">TouchDetectSensorType = 0 &nbsp;# 0:Detect with camera &nbsp;1:Detect with mouse cursor(for PC &amp; airbar)</font><br clear="all">
  <br clear="all">
  <font color="Black">1にするとセンサーバーでタッチスクリーンへのタッチを検出するモードになります。</font><br clear="all">
  <br clear="all">
  <font color="Blue">if RaspberryMode==0:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp;PortName='COM4' &nbsp; &nbsp;# You can check this port name through device manager</font><br clear="all">
  <br clear="all">
  <font color="Black">このPortNameにはPCがArduinoをどのポートで認識しているかを入力します。ポートは以下の方法で調べられます。</font><br clear="all">
  <font color="Black">コントロールパネル　→　大きなアイコンで表示し、デバイスマネージャー　→　ポート(COMとLPT)　→　Arduino Uno(COM*)</font><br clear="all">
  <font color="Black">&quot;COM*&quot;がArduinoと接続しているポートなのでこれをPortNameへ代入してください。</font><br clear="all">
  <br clear="all">
  <font color="Blue">CameraID=0 &nbsp;# This value is used for starting recording with opencv (If there is only 1 camera, substitute 0. If miniscope is connected, substitute 1)</font><br clear="all">
  <br clear="all">
  PCに複数のカメラが接続されている場合（ノートPCの内臓カメラも含む）、それぞれのカメラに番号が0,1,2...と順に振られます。OperantHouseのカメラにどのIDが振られているか分からない場合は取り敢えず0のままにしておいてください。<br clear="all">
  <br clear="all">
  <br clear="all">
  ではOperantHouseを起動しましょう。プログラムのタブを右クリックしRunを選択します（ファイルの名前変更もここでできます）。<br clear="all">
  <img src="paste2271.jpg" alt="" height="142" width="813" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  このように画面が出てくれば成功です。<br clear="all">
  <img src="paste229.jpg" alt="" height="211" width="889" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  ここでこの先教材として使う課題90を実行してみて、どのような課題かチェックしてみて下さい。<br clear="all">
  ﾊﾟﾈﾙをタッチすると報酬が貰えるというシンプルな課題です。<br clear="all">
  <br clear="all">
  <br clear="all">
  課題の挙動を理解したら、Exitボタンを押してプログラムを一旦終了しましょう。</div>
  </div>
  <div id="footer">operanthouseのフッター</div>
  <div id="HPZLPPageTail" style="clear: both;"></div></div>
</body>

</html>
