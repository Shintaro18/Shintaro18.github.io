<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">

<!--2026/02/10 17:56:24-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta http-equiv="Content-Script-Type" content="text/javascript">
  <meta name="GENERATOR" content="ホームページV4">
  <title>Setup of RaspberryPi 5 - Kitaya lab</title>
  <link rel="stylesheet" href="02_white_a0_0010.css" type="text/css" media="all">
</head>

<body>
  <div id="page">
  <div id="header">operanthouseのヘッダー</div>
  <div id="title">
  <h1>Kitaya lab</h1></div>
  <div id="menubar"><div class="mainmenu"><ul><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="index.html" class="mainmenuitemlink"><span class="mainmenuitemmark">オペラントハウスとは</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="office1001038.html" class="mainmenuitemlink"><span class="mainmenuitemmark">What's Operant House?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1.html" class="mainmenuitemlink"><span class="mainmenuitemmark">行動解析君とは?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1076.html" class="mainmenuitemlink"><span class="mainmenuitemmark">Mr. Behavio?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1001.html" class="mainmenuitemlink"><span class="mainmenuitemmark">Gait analyzer</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="privacy1.html" class="mainmenuitemlink"><span class="mainmenuitemmark">プライバシーポリシー</span></a></span></span></span></li></ul>

</div></div>
  <div id="side1">
  <div class="submenu"><ul><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001038.html" class="submenuitemlink"><span class="submenuitemmark1">What's Operant House?</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001039.html" class="submenuitemlink"><span class="submenuitemmark1">Preparation(Download)</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank004.html" class="submenuitemlink"><span class="submenuitemmark1">Production of the OperantHouse</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001042.html" class="submenuitemlink"><span class="submenuitemmark2">Parts printing</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001043.html" class="submenuitemlink"><span class="submenuitemmark2">Parts assembling</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001044.html" class="submenuitemlink"><span class="submenuitemmark2">Electronic circuit production #1</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001045.html" class="submenuitemlink"><span class="submenuitemmark2">Electronic circuit production #2</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001046.html" class="submenuitemlink"><span class="submenuitemmark2">Installation of Electronics on the Body</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001047.html" class="submenuitemlink"><span class="submenuitemmark2">Installation of Electronics on the Roof</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001049.html" class="submenuitemlink"><span class="submenuitemmark2">Wiring of each Components</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001050.html" class="submenuitemlink"><span class="submenuitemmark2">Setup of RaspberryPi 4</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001101.html" class="submenuitemlink"><span class="submenuitemmark2">Setup of RaspberryPi 5</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank005.html" class="submenuitemlink"><span class="submenuitemmark1">About Option Parts</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001055.html" class="submenuitemlink"><span class="submenuitemmark1">Handling of OperantHouse</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank006.html" class="submenuitemlink"><span class="submenuitemmark1">Custom task</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001072.html" class="submenuitemlink"><span class="submenuitemmark1">Command list</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001073.html" class="submenuitemlink"><span class="submenuitemmark1">Default tasks</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001063.html" class="submenuitemlink"><span class="submenuitemmark1">Tips</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001064.html" class="submenuitemlink"><span class="submenuitemmark1">Troubleshooting</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001102.html" class="submenuitemlink"><span class="submenuitemmark1">Copyright</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001071.html" class="submenuitemlink"><span class="submenuitemmark1">日本語ページへ</span></a></span></span></span></li></ul>
</div></div>
  <div id="side2"></div>
  <div id="main_wrapper000" class="HPZAutoMarginAdjuster">
  <div id="main">
  <h1>Setup of RaspberryPi 5</h1>
  <hr>
  <br clear="all">
  <br clear="all">
  The Raspberry Pi 5, a successor to the Raspberry Pi 4, provides improved computational performance but requires a higher current supply (5 V, 5 A). For stable operation, prepare a 5 V/5 A power adapter.<br clear="all">
  <br clear="all">
  This instruction uses Raspberry Pi OS released on 10/1/2025 (64-bit Debian 13 (Trixie) distribution). Later versions would be compatible; however, if it does not work, obtain a image of this version from the Raspberry Pi OS archive.<br clear="all">
  <br clear="all">
  <br clear="all">
  Connect the power cable, keyboard, and mouse to the Raspberry Pi, and configure Wi-Fi. If Wi-Fi is not available, connect a ethernet cable instead.<br clear="all">
  Insert the SD card, then press the power button on the side of the Raspberry Pi. Enter the username and password at the initial setup screen (Note them because you'll need it later). <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  Desktop of the Raspberry Pi;<br clear="all">
  <img src="paste267.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <h2>System update</h2>
  <h2><br class="HPZAutoBR"></h2>
  Click here to open the terminal.<br clear="all">
  <img src="paste1282.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  The terminal will appear. On Raspberry Pi, programs are installed through the terminal.<br clear="all">
  <img src="paste269.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  First, update the software to the latest version. Enter the following command in the terminal and press Enter key:<br clear="all">
  <br clear="all">
  <b>sudo apt update</b><br clear="all">
  <br clear="all">
  During installation, you may see a message such as Do you want to continue? If so, type the corresponding key (usually y) and press Enter to continue.<br clear="all">
  <img src="paste270.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  Once the process finishes, enter the following command:<br clear="all">
  <br clear="all">
  <b>sudo apt upgrade -y</b><br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <h2>Installing the On-Screen Keyboard</h2>
  <br clear="all">
  <br clear="all">
  To save space without a physical keyboard, install a software keyboard. Open the terminal and type:<br clear="all">
  <br clear="all">
  <b>sudo apt install onboard</b><br clear="all">
  <br clear="all">
  <br clear="all">
  Onboard is the virtual keyboard software that can be used with a mouse. It can be launched from Universal Access.<br clear="all">
  <img src="paste3962.jpg" alt="" height="389" width="313" border="0"><br clear="all">
  <img src="paste272.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <h2>Installing OpenCV</h2>
  <br clear="all">
  Next, install OpenCV, a Python plugin required for camera capture. In the terminal, type:<br clear="all">
  <br clear="all">
  <b>sudo apt install python3-opencv</b><br clear="all">
  <br clear="all">
  <br clear="all">
  To check if the installation succeeded, enter:<br clear="all">
  <br clear="all">
  <font color="Black"><b>python3</b></font><br clear="all">
  <font color="Black"><b>import cv2</b></font><br clear="all">
  <font color="Black"><b>cv2.__version__</b></font><br clear="all">
  <font color="#000000"><img src="paste396.jpg" alt="" border="0"></font><br clear="all">
  <font color="Black">If a version number appears, the installation was successful. (Note: The underscores in __version__ are two characters, not one).</font><br clear="all">
  <br clear="all">
  <font color="Black">Exit Python by typing:</font><br clear="all">
  <br clear="all">
  <font color="Black"><b>exit()</b></font><br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <h2>Disabling Screen Sleep</h2>
  <h2><br class="HPZAutoBR"></h2>
  ラズベリーパイはデフォルトの設定だと一定時間経つと画面がスリープするのですが、これだと困るのでこの機能を切りましょう。<br clear="all">
  <br clear="all">
  By default, Raspberry Pi automatically blanks the screen after a certain period of time. To disable this, open Raspberry Pi Configuration.<br clear="all">
  <img src="paste135.jpg" alt="" height="403" width="328" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  Go to the Display tab, set Screen Blanking to Disable, and reboot.<br clear="all">
  <img src="paste2731.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <h2>Installing the Arduino Editor</h2>
  <h2><br class="HPZAutoBR"></h2>
  To transfer programs from Raspberry Pi to Arduino, install the Arduino editor with the following command:<br clear="all">
  <br clear="all">
  <b>sudo apt install arduino</b><br clear="all">
  <br clear="all">
  If you encounter the error:<br clear="all">
  <b>E: Unmet dependencies. Try 'apt --fix-broken install' with no packages (or specify a solution)</b><br clear="all">
  <br clear="all">
  then run:<br clear="all">
  <br clear="all">
  <b>sudo apt --fix-broken install<br clear="all">
  sudo apt install arduino</b><br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <h2>Installing Operant House Software</h2>
  <br clear="all">
  <br clear="all">
  Download the <a href="office1001039.html" class="HPZPageLink">Operant House software</a> and extract it to the desktop.<br clear="all">
  <img src="paste2641.jpg" alt="" border="0"><br clear="all">
  <img src="paste1311.jpg" alt="" height="217" width="368" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  Navigate back one directory by clicking the upward arrow.<br clear="all">
  <img src="paste1321.jpg" alt="" height="260" width="598" border="0"><br clear="all">
  <br clear="all">
  Drag and drop the OperantHouse folder to the desktop.<br clear="all">
  <img src="paste1322.jpg" alt="" height="308" width="666" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  To transfer the program for Operant House to Arduino:<br clear="all">
  Open SerialConnectionWithPython16.ino in OperantHouse -&gt; SerialConnectionWithPython16.<br clear="all">
  <img src="paste398.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  Make sure the port is set to Arduino Uno.<br clear="all">
  <img src="paste3971.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  To install servo library, open <b>Manage Libraries...</b><br clear="all">
  <img src="paste3991.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  Search for and install the latest <b>Servo</b>library. <br clear="all">
  <img src="paste3963.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  When multiple options appear, select <b>Install all</b>.<br clear="all">
  <img src="paste4001.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  Then, click the Build &amp; Upload button to transfer the program.<br clear="all">
  <img src="paste4021.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <h2>Running Operant House</h2>
  <br clear="all">
  <br clear="all">
  On Raspberry Pi, Python programs can be executed with Thonny (it is recommended to set .py files to open with Thonny by default).<br clear="all">
  <img src="paste4032.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  Load the latest OperantHouse*.py file from the OperantHouse folder.<br clear="all">
  <img src="paste2591.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  Check the General settings. They should be as follows. If different, correct them and save<br clear="all">
  <img src="paste2651.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  If the monitor resolution is not 1280x800 pixels, change the values here. The size and position of the touch window are determined based on these values.<br clear="all">
  <img src="paste4023.jpg" alt="" height="389" width="625" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  Click <b>Run</b> to launch Operant House.<br clear="all">
  <img src="paste2564.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  The main window will appear. Use the <b>TouchWin</b>button to hide the panel window and <b>CamSize</b>to enlarge the camera window.<br clear="all">
  <img src="paste2565.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  If the camera window shows video, it is working correctly.<br clear="all">
  <img src="paste259.jpg" alt="" height="514" width="860" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  Test the buttons for reward cue, IR illumination, ceiling light, and servo movement.<br clear="all">
  <img src="paste2566.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  If everything works, the installation is complete. Exit by clicking <b>Exit</b> in the main window or <b>Stop</b> button in Thonny.<br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <h2>Changing Desktop Color</h2>
  <h2><br class="HPZAutoBR"></h2>
  Since bright desktop colors can be distracting for the mouse, set the desktop background to black.<br clear="all">
  Right-click an empty area, select Desktop Preferences.<br clear="all">
  <img src="paste264.jpg" alt="" height="176" width="194" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  Adjust the settings, and press OK. <br clear="all">
  <img src="paste2653.jpg" alt="" height="241" width="337" border="0"><img src="paste26811.jpg" alt="" height="241" width="336" border="0"><br clear="all">
  <br clear="all">
  The background should now be black.<br clear="all">
  <br clear="all">
  <br clear="all">
  Because Raspberry Pi setup is time-consuming, it is recommended to create an image of the SD card at this point. When adding more devices in the future, copy from this SD card. See <a href="office1001063.html" class="HPZPageLink"><b>Tips</b></a> in the left menu for details.<br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <h2>Remote Desktop Setup</h2>
  <br clear="all">
  Since Operant House can be difficult to operate with a single monitor configuration, it is recommended to use RealVNC remote desktop from other computer.<br clear="all">
  In Raspberry Pi Configuration, go to Interfaces, enable VNC, and reboot.<br clear="all">
  <img src="paste4041.jpg" alt="" border="0"><br clear="all">
  <img src="paste4051.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  After reboot, if you see the VNC icon on the taskbar, it is enabled.<br clear="all">
  <img src="paste4061.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  Next, click the network icon (LAN or Wi-Fi) and note the IP address. This is the “address” of your Raspberry Pi. (By default, this number changes after each reboot, so configure a fixed IP if needed.)<br clear="all">
  <img src="paste40721.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  On your computer (must be in the same building), install RealVNC and create a <b>New Connection</b>.<br clear="all">
  <img src="paste3965.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  Enter the Raspberry Pi’s IP address and assign any device name you like.<br clear="all">
  <img src="paste3992.jpg" alt="" height="646" width="481" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  Double click the icon of the Raspberry Pi. When opening the connection, you will be prompted for a username and password. Use the ones set during initial Raspberry Pi setup.<br clear="all">
  <img src="paste400.jpg" alt="" height="329" width="375" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  To confirm your username, type <b>whoami</b> in the terminal. (Note: This is different from the <b>Hostname</b> in Raspberry Pi Configuration.)<br clear="all">
  The password can be changed under <b>System → Change Password</b>.<br clear="all">
  <img src="paste4022.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  RealVNC is free for use within the same LAN, but accessing from outside (e.g., from home) requires a paid account. If you want free remote access from home, connect from your home PC to the operation computer using Chrome Remote Desktop, and from there access the Raspberry Pi via RealVNC.<br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  Your Raspberry Pi setup is now complete.<br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <h2>Next process</h2>
  <h2><br class="HPZAutoBR"></h2>
  From here, proceed depending on your use case. If your Operant House will have<br clear="all">
  <br clear="all">
  1. Touch panel only → go to <a href="office1001051.html" class="HPZPageLink">IR Camera Detection</a><br clear="all">
  <br clear="all">
  2. Lever module → go to <a href="office1001052.html" class="HPZPageLink">Lever Module</a><br clear="all">
  <br clear="all">
  3. Infrared sensor bar (NNAMC3460PCEV) → go to <a href="office1001053.html" class="HPZPageLink">IR Sensor Bar</a><br clear="all">
  <br clear="all">
  If you are unsure whether to use (1) or (3), start with (1). (Option 3 is only necessary if adjacent mask holes are vertically long and close together.)<br clear="all">
  </div>
  </div>
  <div id="footer">operanthouseのフッター</div>
  <div id="HPZLPPageTail" style="clear: both;"></div></div>
</body>

</html>
