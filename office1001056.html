<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">

<!--2026/02/10 17:56:25-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta http-equiv="Content-Script-Type" content="text/javascript">
  <meta name="GENERATOR" content="ÉzÅ[ÉÄÉyÅ[ÉWV4">
  <title>1. Preparation - Kitaya lab</title>
  <link rel="stylesheet" href="02_white_a0_0010.css" type="text/css" media="all">
</head>

<body>
  <div id="page">
  <div id="header">operanthouseÇÃÉwÉbÉ_Å[</div>
  <div id="title">
  <h1>Kitaya lab</h1></div>
  <div id="menubar"><div class="mainmenu"><ul><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="index.html" class="mainmenuitemlink"><span class="mainmenuitemmark">ÉIÉyÉâÉìÉgÉnÉEÉXÇ∆ÇÕ</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="office1001038.html" class="mainmenuitemlink"><span class="mainmenuitemmark">What's Operant House?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1.html" class="mainmenuitemlink"><span class="mainmenuitemmark">çsìÆâêÕåNÇ∆ÇÕ?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1076.html" class="mainmenuitemlink"><span class="mainmenuitemmark">Mr. Behavio?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1001.html" class="mainmenuitemlink"><span class="mainmenuitemmark">Gait analyzer</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="privacy1.html" class="mainmenuitemlink"><span class="mainmenuitemmark">ÉvÉâÉCÉoÉVÅ[É|ÉäÉVÅ[</span></a></span></span></span></li></ul>
</div></div>
  <div id="side1">
  <div class="submenu"><ul><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001038.html" class="submenuitemlink"><span class="submenuitemmark1">What's Operant House?</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001039.html" class="submenuitemlink"><span class="submenuitemmark1">Preparation(Download)</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank004.html" class="submenuitemlink"><span class="submenuitemmark1">Production of the OperantHouse</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank005.html" class="submenuitemlink"><span class="submenuitemmark1">About Option Parts</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001055.html" class="submenuitemlink"><span class="submenuitemmark1">Handling of OperantHouse</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank006.html" class="submenuitemlink"><span class="submenuitemmark1">Custom task</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001056.html" class="submenuitemlink"><span class="submenuitemmark2">1. Preparation</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001057.html" class="submenuitemlink"><span class="submenuitemmark2">2. Overview of the code</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001058.html" class="submenuitemlink"><span class="submenuitemmark2">3. About &quot;Phase 0&quot;</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001059.html" class="submenuitemlink"><span class="submenuitemmark2">4. About &quot;Save&quot;</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001060.html" class="submenuitemlink"><span class="submenuitemmark2">5. About &quot;Phase 1&quot;</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001061.html" class="submenuitemlink"><span class="submenuitemmark2">6. About &quot;Phase2&quot;</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001062.html" class="submenuitemlink"><span class="submenuitemmark2">7. Modifying Code part1</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001048.html" class="submenuitemlink"><span class="submenuitemmark2">8. Modifying Code part2</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001065.html" class="submenuitemlink"><span class="submenuitemmark2">9. Modifying Code for Lever</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001072.html" class="submenuitemlink"><span class="submenuitemmark1">Command list</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001073.html" class="submenuitemlink"><span class="submenuitemmark1">Default tasks</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001063.html" class="submenuitemlink"><span class="submenuitemmark1">Tips</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001064.html" class="submenuitemlink"><span class="submenuitemmark1">Troubleshooting</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001102.html" class="submenuitemlink"><span class="submenuitemmark1">Copyright</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001071.html" class="submenuitemlink"><span class="submenuitemmark1">ì˙ñ{åÍÉyÅ[ÉWÇ÷</span></a></span></span></span></li></ul>
</div></div>
  <div id="side2"></div>
  <div class="HPZAutoMarginAdjuster" id="main_wrapper000">
  <div id="main">
  <h1>1. Preparation</h1>
  <hr>
  In this instruction, OperantHouse0.927_Tutorial.py is used as a skeleton program. You are going to add cords to implement new tasks by following the following instructions. The code after the tutorial is OperantHouse0.927_Tutorial_final.py.<br clear="all">
  <br clear="all">
  <br clear="all">
  OperantHouse allows you to modify existing tasks or create your own original tasks if you know the basics of Python programming.<br clear="all">
  <br clear="all">
  Here, I will explain the code of the simplest conditioning task (Task 90) where single panel touching is rewarded as water access. Then IÅfll show how to make it more complex and versatile task by adding codes. Throughout this process, you can learn how the OperantHouseÅfs codes work and how to custom it.<br clear="all">
  <br clear="all">
  Raspi is not a good environment for the coding because of its low performance, here IÅfll explain the case of using Windows PC.<br clear="all">
  <br clear="all">
  First, install Anaconda3 and PyCharm for the programming environment. After those installations, specify Anaconda's python.exe in PyCharm (File -&gt; Setting -&gt; Project:*** -&gt; Project Interpreter). <br clear="all">
  <br clear="all">
  Next, connect the Arduino and camera of the OperantHouse and PC through USB cable.<br clear="all">
  <br clear="all">
  Open OperantHouse*.py in the PyCharm. YouÅfll see its code in the right space. This is a main code of the OperantHouse but you donÅft need to understand all of them.<br clear="all">
  <img src="paste226.jpg" alt="" height="653" width="813" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  We have to change the code a little bit to run in windows. Find ÅgGeneral settingÅh codes.<br clear="all">
  <br clear="all">
  <font color="Blue">#========General setting====================================================================================</font><br clear="all">
  <font color="Blue">RaspberryMode = 0 &nbsp; # 0:PC mode, 1:Raspberry mode</font><br clear="all">
  <br clear="all">
  <font color="Black">Assign Åg0Åh to ÅgRaspberryModeÅh variable to run the program as windows mode.</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">SingleMonitorMode = 0 &nbsp; # If 1, the windows arranged for single monitor operation</font><br clear="all">
  <br clear="all">
  <font color="Black">Set to Åg0Åh if your monitor workspace is more than 2500 pixels wide to show the main window and touch window side-by-side. Otherwise set to Åg1Åh to show the touch window overthe main window.</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">IsHousingAnalysis = 1 # If housing analysis is working, the value = 1, otherwise = 0</font><br clear="all">
  <br clear="all">
  <font color="Black">If this number is Åg1Åh, the ceiling light will automatically turn on and off according to the time set in the setting.</font><br clear="all">
  <br clear="all">
  <font color="Blue">TouchDetectSensorType = 0 &nbsp;# 0:Detect with camera &nbsp;1:Detect with mouse cursor(for PC &amp; airbar)</font><br clear="all">
  <br clear="all">
  <font color="Black">1If Åg0Åh, the camera detects panel nose poking. If Åg1Åh, the program uses IR sensor bar to detect panel touching.</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">if RaspberryMode==0:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp;PortName='COM4' &nbsp; &nbsp;# You can check this port name through device manager</font><br clear="all">
  <br clear="all">
  <font color="Black">Enter the port number for Arduino connection here. If you don't know the number, you can find it in the device manager. You can open device manager as followed,</font><br clear="all">
  <font color="Black">Control panel Å® View by Large icons Å® Device manager Å® Port(COM &amp; LPT) Å® Arduino UNO(COM*)</font><br clear="all">
  <font color="Black">Assign ÅgCOM*Åh to the ÅgPortNameÅh variable.</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">CameraID=0 &nbsp;# This value is used for starting recording with opencv (If there is only 1 camera, assign 0. If miniscope is connected, assign 1)</font><br clear="all">
  <br clear="all">
  You can indicate which camera you want to use. When multiple cameras are connected to the PC (including the built-in camera), each camera is numbered as 0,1,2.... If you donÅft know which ID is assigned to the USB camera, leave it at 0 for now.<br clear="all">
  <br clear="all">
  <br clear="all">
  Now let's start OperantHouse. Right-click on the Programs tab and select Run (you can also rename the file here).<br clear="all">
  <img src="paste2271.jpg" alt="" height="142" width="813" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  Ç±ÇÃÇÊÇ§Ç…âÊñ Ç™èoÇƒÇ≠ÇÍÇŒê¨å˜Ç≈Ç∑ÅB<br clear="all">
  <img src="paste229.jpg" alt="" height="211" width="889" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  The task 90 is provided for learning purposes and you will modify it in the following instruction. Please check out how this task works here. <br clear="all">
  <br clear="all">
  <br clear="all">
  Once you understand the task, click the ÅgExitÅh button to end the program.</div>
  </div>
  <div id="footer">operanthouseÇÃÉtÉbÉ^Å[</div>
  <div id="HPZLPPageTail" style="clear: both;"></div></div>
</body>

</html>
