<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">

<!--2026/02/10 17:56:22-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta http-equiv="Content-Script-Type" content="text/javascript">
  <meta name="GENERATOR" content="ホームページV4">
  <title>3. Phase0について - Kitaya lab</title>
  <link rel="stylesheet" href="02_white_a0_0010.css" type="text/css" media="all">
</head>

<body>
  <div id="page">
  <div id="header">operanthouseのヘッダー</div>
  <div id="title">
  <h1>Kitaya lab</h1></div>
  <div id="menubar"><div class="mainmenu"><ul><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="index.html" class="mainmenuitemlink"><span class="mainmenuitemmark">オペラントハウスとは</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="office1001038.html" class="mainmenuitemlink"><span class="mainmenuitemmark">What's Operant House?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1.html" class="mainmenuitemlink"><span class="mainmenuitemmark">行動解析君とは?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1076.html" class="mainmenuitemlink"><span class="mainmenuitemmark">Mr. Behavio?</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="profile1001.html" class="mainmenuitemlink"><span class="mainmenuitemmark">Gait analyzer</span></a></span></span></span></li><li class="mainmenulistitem"><span class="mainmenuitem"><span class="mainmenuitemright"><span class="mainmenuitemcenter"><a href="privacy1.html" class="mainmenuitemlink"><span class="mainmenuitemmark">プライバシーポリシー</span></a></span></span></span></li></ul>
</div></div>
  <div id="side1">
  <div class="submenu"><ul><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="index.html" class="submenuitemlink"><span class="submenuitemmark1">オペラントハウスとは?</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001.html" class="submenuitemlink"><span class="submenuitemmark1">制作の準備(ﾀﾞｳﾝﾛｰﾄﾞ)</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank.html" class="submenuitemlink"><span class="submenuitemmark1">3Dプリンターの準備</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank001.html" class="submenuitemlink"><span class="submenuitemmark1">オペラントハウスの製作</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank002.html" class="submenuitemlink"><span class="submenuitemmark1">オプションパーツについて</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001018.html" class="submenuitemlink"><span class="submenuitemmark1">ｵﾍﾟﾗﾝﾄﾊｳｽの使い方</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="99_blank003.html" class="submenuitemlink"><span class="submenuitemmark1">オリジナル課題の追加</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001030.html" class="submenuitemlink"><span class="submenuitemmark2">1. 準備</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001017.html" class="submenuitemlink"><span class="submenuitemmark2">2. コードの概要</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001031.html" class="submenuitemlink"><span class="submenuitemmark2">3. Phase0について</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001032.html" class="submenuitemlink"><span class="submenuitemmark2">4. Saveについて</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001033.html" class="submenuitemlink"><span class="submenuitemmark2">5. Phase1について</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001034.html" class="submenuitemlink"><span class="submenuitemmark2">6. Phase2について</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001035.html" class="submenuitemlink"><span class="submenuitemmark2">7. コードの改変 その1</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001067.html" class="submenuitemlink"><span class="submenuitemmark2">8. コードの改変 その2</span></a></span></span></span></li><li><span class="submenuitem" style="margin-left:10px;"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001068.html" class="submenuitemlink"><span class="submenuitemmark2">9. レバーを使う課題に改変</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001036.html" class="submenuitemlink"><span class="submenuitemmark1">Command list</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001069.html" class="submenuitemlink"><span class="submenuitemmark1">デフォルト課題の説明</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001010.html" class="submenuitemlink"><span class="submenuitemmark1">Tips</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001037.html" class="submenuitemlink"><span class="submenuitemmark1">トラブルシューティング</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001103.html" class="submenuitemlink"><span class="submenuitemmark1">About copyright</span></a></span></span></span></li><li><span class="submenuitem"><span class="submenuitemright"><span class="submenuitemcenter"><a href="office1001070.html" class="submenuitemlink"><span class="submenuitemmark1">Go to English page</span></a></span></span></span></li></ul>
</div></div>
  <div id="side2"></div>
  <div class="HPZAutoMarginAdjuster" id="main_wrapper000">
  <div id="main">
  <h1>3. Phase0について</h1>
  <hr>
  <br clear="all">
  <br clear="all">
  Phase0のコードは以下になります。<br clear="all">
  前の章で触れたとおり、このコードは課題条件の入力中に実行されます。<br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">=======================================================================================================================</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp;if Phase == 0: &nbsp;# Parameter inputs</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if Phase0_Init == 0: &nbsp; &nbsp;# Make GUI for the setting of the parameters for this task</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;RemoveMainRightWidget() # Remove task buttons</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PutStartBackButton() &nbsp; &nbsp;# Put &quot;start&quot; and &quot;back&quot; buttons</font><br clear="all">
  <br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ColumnWidth = 14 &nbsp; &nbsp;# Width of input columns</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mMaxCorrectNum = ttk.Label(MainWindowRightFrame, text='MaxCorrectNum', width=ColumnWidth).grid(row=0, column=0, sticky=W) &nbsp; &nbsp;# Put label</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;MaxCorrectNumVar = IntVar(MainWindowRoot) &nbsp;# Declare a variable for input column</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;iMaxCorrectNum = ttk.Entry(MainWindowRightFrame, textvariable=MaxCorrectNumVar, width=ColumnWidth).grid(row=1, column=0) &nbsp;# Create input column and link it with the variable</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mTimeLimit = ttk.Label(MainWindowRightFrame, text='TimeLimit(min)', width=ColumnWidth).grid(row=0, column=1, sticky=W)</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TimeLimitVar = IntVar(MainWindowRoot)</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;iTimeLimit = ttk.Entry(MainWindowRightFrame, textvariable=TimeLimitVar, width=ColumnWidth).grid(row=1, column=1)</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mLickDur = ttk.Label(MainWindowRightFrame, text='LickDur(s)', width=ColumnWidth).grid(row=0, column=2, sticky=W)</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LickDurVar = IntVar(MainWindowRoot)</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;iLickDur = ttk.Entry(MainWindowRightFrame, textvariable=LickDurVar, width=ColumnWidth).grid(row=1, column=2)</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Str = &quot;ParametersForTask&quot; + str(GetTaskID())</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if os.path.exists(Str + '/MaxCorrectNum.dat') == True: &nbsp;# If save file named &quot;MaxCorrectNum.dat&quot; exist:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;with open(Str + '/MaxCorrectNum.dat', 'rb') as PickleInst[GetTaskID()]:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;MaxCorrectNumVar.set(pickle.load(PickleInst[GetTaskID()])) &nbsp;# Substitute loaded data into the variable of this program</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else: &nbsp;# If save file doesn't exist</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;MaxCorrectNumVar.set(80) &nbsp;# Substitute 80 into the variable</font><br clear="all">
  <br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if os.path.exists(Str + '/TimeLimit.dat') == True:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;with open(Str + '/TimeLimit.dat', 'rb') as PickleInst[GetTaskID()]:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TimeLimitVar.set(pickle.load(PickleInst[GetTaskID()]))</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TimeLimitVar.set(600)</font><br clear="all">
  <br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if os.path.exists(Str + '/LickDur.dat') == True:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;with open(Str + '/LickDur.dat', 'rb') as PickleInst[GetTaskID()]:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LickDurVar.set(pickle.load(PickleInst[GetTaskID()]))</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LickDurVar.set(2)</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PutRoiGui(0, 1, 1, 0) &nbsp;# Put setting GUI of the indicated ROI on ROI window (ROI number, Detection mode, Threshold direction,ShowSymbol or not)</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PutRoiGui(19, 0, 0, 1)</font><br clear="all">
  <br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;RemoveAllDigitalOutGui() &nbsp; &nbsp;# Remove all GUIs on the Digital out window</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PutDigitalOutGui(10) &nbsp; &nbsp;# Put the digital output GUI for channel 10 on Digital ouput window</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PutDigitalOutGui(12)</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PutDigitalOutGui(13)</font><br clear="all">
  <br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;RemoveAllServoGui() # Remove all GUI on the Servo GUI</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PutServoGui(3) &nbsp;# Put a servo GUI for channel 3 on the Servo GUI</font><br clear="all">
  <br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Phase0_Init = 1 # Set a flag which indicating phase0 initialization has done</font><br clear="all">
  <font color="Blue">=======================================================================================================================</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Black">まず冒頭で</font><font color="Blue">if Phase0_Init == 0:</font><font color="Black">と言う文があります。</font><br clear="all">
  <font color="Black">この中には初期化命令（ボタンや入力欄の配置など）が含まれており、Phase0に入った最初のフレームのみで実行されます。</font><br clear="all">
  <br clear="all">
  <font color="Black">まず</font><font color="Blue">RemoveMainRightWidget()</font><font color="Black">でメイン画面の右側（↓）を一旦クリアし、その後課題条件の入力欄やラベルを配置しています。</font><br clear="all">
  <img src="paste513.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  この課題の最初のパラメータである最大正解数の入力GUIを配置しています。<br clear="all">
  <br clear="all">
  <font color="Blue">=======================================================================================================================</font><br clear="all">
  <font color="Blue">mMaxCorrectNum = ttk.Label(MainWindowRightFrame, text='MaxCorrectNum', width=ColumnWidth).grid(row=0 column=0, sticky=W) &nbsp; &nbsp;# Putlabel</font><br clear="all">
  <font color="Blue">MaxCorrectNumVar = IntVar(MainWindowRoot) &nbsp;# Declare a variable for input column</font><br clear="all">
  <font color="Blue">iMaxCorrectNum = ttk.Entry(MainWindowRightFrame, textvariable=MaxCorrectNumVar, width=ColumnWidth).grid(row=1 column=0) &nbsp;#Create input column and link it with the variable</font><br clear="all">
  <font color="Blue">=======================================================================================================================</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">mMaxCorrectNum = ttk.Label(MainWindowRightFrame, text='MaxCorrectNum', width=ColumnWidth).grid(row=0, column=0, sticky=W) &nbsp; &nbsp;#Put label</font><br clear="all">
  <br clear="all">
  まずは&quot;MaxCorrectNum&quot;という文字をラベルオブジェクトとして生成し、メインウィンドウの右区画の0行目の0列目に左寄せで配置しています。sticky=WはWestで左詰めで表示するという意味です。<br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">MaxCorrectNumVar = IntVar(MainWindowRoot) &nbsp;# Declare a variable for input column</font><br clear="all">
  次はIntVarと言う型の変数を宣言しています。この型は入力欄と関連付けられる特殊な変数です。<br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">iMaxCorrectNum = ttk.Entry(MainWindowRightFrame, textvariable=MaxCorrectNumVar, width=ColumnWidth).grid(row=1 column=0) &nbsp;#Create input column and link it with the variable</font><br clear="all">
  最後に入力欄オブジェクトを生成、配置しています。<font color="Blue">textvariable=MaxCorrectNumVar</font><font color="Black">で入力された値を先ほど作った</font><font color="Blue">MaxCorrectNumVar</font><font color="Black">に渡すように指示しています。また配置場所は1行目の0列目と指示しています。</font><br clear="all">
  <br clear="all">
  <br clear="all">
  以下同じパターンでTimeLimit, LickDurの入力GUIを生成、配置しています。<br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  次に課題パラメータ変数の値のセーブデータがある場合、それをロードする処理です。<br clear="all">
  オペラントハウスでは各課題毎に保存用のフォルダが存在し、各パラメータの変数の値はそれぞれが1ファイルとしてそのフォルダ内に保存されます。もしフォルダやファイルが見つからない場合、新たに生成され、デフォルト値が入るのでもし特定の課題のパラメータを初期化したい場合は対応するセーブフォルダを削除してプログラムを起動してください。<br clear="all">
  <br clear="all">
  <font color="Blue">=======================================================================================================================</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Str = &quot;ParametersForTask&quot; + str(GetTaskID())</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if os.path.exists(Str+'/MaxCorrectNum.dat') == True: &nbsp;# If save file named &quot;MaxCorrectNum.dat&quot; exist:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;with open(Str+'/MaxCorrectNum.dat', 'rb') as PickleInst[GetTaskID()]:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;MaxCorrectNumVar.set(pickle.load(PickleInst[GetTaskID()])) &nbsp;# Substitute loaded data into the variable of this program</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else: &nbsp; # If save file doesn't exist</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;MaxCorrectNumVar.set(80) &nbsp; &nbsp; # Substitute 80 into the variable</font><br clear="all">
  <br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if os.path.exists(Str+'/TimeLimit.dat') == True:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;with open(Str+'/TimeLimit.dat', 'rb') as PickleInst[GetTaskID()]:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TimeLimitVar.set(pickle.load(PickleInst[GetTaskID()]))</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TimeLimitVar.set(600)</font><br clear="all">
  <br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if os.path.exists(Str+'/LickDur.dat') == True:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;with open(Str+'/LickDur.dat', 'rb') as PickleInst[GetTaskID()]:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LickDurVar.set(pickle.load(PickleInst[GetTaskID()]))</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LickDurVar.set(2)</font><br clear="all">
  <font color="Blue">=======================================================================================================================</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">Str = &quot;ParametersForTask&quot; + str(GetTaskID())</font><br clear="all">
  今回の課題のセーブデータは&quot;ParametersForTask90&quot;と言うフォルダに保存されているので、まずそのフォルダ名の文字列を作成します。<font color="Blue">GetTaskID()</font>を実行すると現在の課題番号である&quot;90&quot;が返って来ます。<br clear="all">
  <br clear="all">
  そしてそれを使いデータファイルが存在しているかを<font color="Blue">if os.path.exists(Str+'/MaxCorrectNum.dat') == True:</font>で確認します。<br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">with open(Str+'/MaxCorrectNum.dat', 'rb') as PickleInst[GetTaskID()]:</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp;MaxCorrectNumVar.set(pickle.load(PickleInst[GetTaskID()])) &nbsp;# Substitute loaded data into the variable of this program</font><br clear="all">
  <br clear="all">
  もし存在していれば次の行の命令で保存された値をプログラムの変数(<font color="Blue">MaxCorrectNumVar</font><font color="Black">)</font>へ格納します。<font color="Blue">Var</font><font color="Black">型の変数は&quot;=&quot;ではなく、変数名.set(代入内容)で値を格納します。</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">else: &nbsp; # If save file doesn't exist</font><br clear="all">
  <font color="Blue">&nbsp; &nbsp;MaxCorrectNumVar.set(80) &nbsp; &nbsp; # Substitute 80 into the variable</font><br clear="all">
  <br clear="all">
  もしデータファイルが見つからない場合はelse以下が実行されるので（初めて課題を実行する場合など）、代わりに任意の値を代入します（ここでは&quot;80&quot;を入力）。<br clear="all">
  <br clear="all">
  <br clear="all">
  同じ要領でTimeLimitおよびLickDurの値もロードします。<br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">=======================================================================================================================</font><br clear="all">
  <font color="Blue">PutRoiGui(0, 1, 1, 0) &nbsp;# Put setting GUI of the indicated ROI on ROI window (ROI number, Detection mode, Threshold direction,ShowSymbol or not)</font><br clear="all">
  <font color="Blue">PutRoiGui(19, 0, 0, 1)</font><br clear="all">
  <font color="Blue">=======================================================================================================================</font><br clear="all">
  次の命令は写真のようなROIを生成とそれに対応するGUIの生成です。<br clear="all">
  <img src="paste230.jpg" alt="" border="0"><font color="Red">＜写真要差し替え＞</font><br clear="all">
  <img src="paste2493.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <font color="Blue">PutRoiGui(0, 1, 1, 0)</font><font color="Black">ではパネル#0用のROIを生成しています。</font><br clear="all">
  <font color="Blue">PutRoiGui(19, 0, 0, 1)</font><font color="Black">では水スリット用のROIを生成しています。</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Black">この関数の使い方ですが、ここではパネル#0用のROIを例に取り説明します。</font><br clear="all">
  <br clear="all">
  <font color="Blue">PutRoiGui(</font><font color="Red">0</font><font color="Blue">, 1, 1, 0)</font><br clear="all">
  <font color="Black">最初の引き数(赤字)はどの番号のROIを生成するか指示します。この番号はﾊﾟﾈﾙ番号と一致します。</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">PutRoiGui(0,</font><font color="Red">1</font><font color="Blue">, 1, 0)</font><br clear="all">
  <font color="Black">2番目の引き数はマウスの検出方式を指示します。</font><br clear="all">
  <font color="Black">1にすると過去5秒間で最も暗かった、もしくは明るかった色がバックグラウンドとなります。どちらになるかは3番目の引き数に依存します。</font><br clear="all">
  <font color="Black">0だと単にROIウィンドウで指定した値がバックグラウンドになります。</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">PutRoiGui(0, 1,</font><font color="Red">1</font><font color="Blue">, 0)</font><br clear="all">
  <font color="Black">3番目の引き数は明るい色を検出するか暗い色を検出するかの指示です。1だと明るい色を検出し、0だと暗い色を検出します。</font><br clear="all">
  <font color="Black">B6でも鼻先は赤外線で照射するとかなり明るく見えるので、ここでは1を指示しています。</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">PutRoiGui(19, 0,</font><font color="Red">0</font><font color="Blue">, 1)</font><br clear="all">
  <font color="Black">それに対して水スリットでは黒く見えるマウスの後頭部を検出するので0を指示します。</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">PutRoiGui(0, 1, 1,</font><font color="Red">0</font><font color="Blue">)</font><br clear="all">
  <font color="Blue">PutRoiGui(19, 0, 0,</font><font color="Red">1</font><font color="Blue">)</font><br clear="all">
  最後の引き数は物体を検出した際に赤い四角のシンボルを表示するか否かです。1だと表示されます。<br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">=======================================================================================================================</font><br clear="all">
  <font color="Blue">RemoveAllDigitalOutGui() &nbsp; &nbsp;# Remove all GUIs on the Digital out window</font><br clear="all">
  <font color="Blue">PutDigitalOutGui(10) &nbsp; &nbsp;# Put the digital output GUI for channel 10 on Digital ouput window</font><br clear="all">
  <font color="Blue">PutDigitalOutGui(12)</font><br clear="all">
  <font color="Blue">PutDigitalOutGui(13)</font><br clear="all">
  <font color="Blue">=======================================================================================================================</font><br clear="all">
  <font color="Black">これらのコードでDigitalOutputウィンドウのGUIを配置します。</font><br clear="all">
  <img src="paste172.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Black">まず</font><font color="Blue">RemoveAllDigitalOutGui()</font><font color="Black">でDigitalOutputWindowをクリアして</font><font color="Blue">PutDigitalOutGui(10)</font><font color="Black">でArduinoのデジタル入出力チャネル10番（Cue LED用）に対応したGUIを設置します。また同時に10番のチャネルを出力モードにします。</font><br clear="all">
  <font color="Black">続く命令で同様に赤外線用のCh12, 天井照明用のCh13の処理を行います。</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Blue">=======================================================================================================================</font><br clear="all">
  <font color="Blue">RemoveAllServoGui() # Remove all GUI on the Servo GUI</font><br clear="all">
  <font color="Blue">PutServoGui(3) &nbsp;# Put a servo GUI for channel 3 on the Servo GUI</font><br clear="all">
  <font color="Blue">=======================================================================================================================</font><br clear="all">
  <font color="Black">最後のコードでServoウィンドウのGUIの配置をしています。</font><br clear="all">
  <img src="paste2501.jpg" alt="" border="0"><br clear="all">
  <br clear="all">
  <font color="Black">まず前の課題のGUIが残っている場合に備えて念のため</font><font color="Blue">RemoveAllServoGui()</font><font color="Black">で一旦Servoウィンドウ上部をクリアし、</font><font color="Blue">PutServoGui(3)</font><font color="Black">でチャネル3用のGUIをServoウィンドウに設置し、Arduinoのデジタル入出力チャネル3番をサーボ出力モード(PWM)に変更します。</font><br clear="all">
  <br clear="all">
  <br clear="all">
  <font color="Black">そして最後に</font><font color="Blue">Phase0_Init = 1</font>にする事でこれら初期化命令が再び実行されることを防ぎます。</div>
  </div>
  <div id="footer">operanthouseのフッター</div>
  <div id="HPZLPPageTail" style="clear: both;"></div></div>
</body>

</html>
